# Начнём с Hello World

## 1 программа

---
```c++
#include <print>

int main()
{
    std::println("Hello, {}!", "World");
}
```
---

**Компиляция**
```shell
g++ -std=gnu++23 -Wall -Wextra 1.cpp -o 1.out
```

# Обработка `std::`
Чтобы не писать в каждой функции не писать `std::`

2 школы мысли:
    1. `using namespace std;` - **плохо**
    2. `using std::cin` - к примеру. Т.е. подтягивать определённые иднетификаторы


# Использование Си
Можно использовать библиотеки из Си

---
```c++
#include <cstdio>
#include <cstdlib>
#include <cctype>
#include <cstring>

int main()
{
    std::size_t a;
    std::uint32_t b;

    printf("Hello, %s!\n", "World");
}

```
---

Мы *не будем использовать* стандартные библиотеки языка Си, кроме типов данных как `uint32_t`

# Глава про `char` и `cin`

## 1 программа

---
```c++
#include <print>
#include <iostream>
#include <iomanip>

int main()
{
    char c
    std::cin >> c;
    std::println("{}", c);
}
```
---

---
**Вывод**:
```shell
e
e
```
---

С символами всегда **беда** в Си и С++. Например не известна знаковость (*зависит от аппаратуры*) 

## 2 программа

---
```c++
#include <print>
#include <iostream>
#include <iomanip>

int main()
{
    unsigned char c
    std::cin >> c;
    std::println("{}", c);
}
```
---

---
**Вывод**:
```shell
1
49 // вывел код символа
```
---

## 3 программа

Поэтому в C++20 есть тип `char8_t` - аналог типа `char`, но гарантируется знаковость

---
```c++
#include <print>
#include <iostream>
#include <iomanip>

int main()
{
    char8_t c
    std::cin >> c;
    std::println("{}", c);
}
```
---

---
**Вывод**: *Errors* - нельзя считать через `cin`
---

Будем пучаться дальше используя `char` ибо поддержку не завезли

## 4 программа

---
```c++
#include <print>
#include <iostream>
#include <iomanip>

int main()
{
    char c
    std::cin >> c;
    std::println("{:x}", c); //будем получать 16-ричную выдачу
}
```
---

# Перейдём к `int`

## 1 программа 
---
```c++
#include <print>
#include <iostream>
#include <iomanip>

int main()
{
    int x
    std::cin >> x;
    std::println("{}", x);
}
```
---

**Нужно уметь проверять поток на признак конца файла**

## 2 программа - *лобовой вариант*

---
```c++
#include <print>
#include <iostream>
#include <iomanip>

int main()
{
    int x
    while(true){
        std::cin >> x;
        if(std::cin.eof()) break;
        std::println("{}", x);
    }
}
```
---

## 3 программа - *ещё один вариант*

---
```c++
#include <print>
#include <iostream>
#include <iomanip>

int main()
{
    int x
    while((std::cin >> x).eof()){
        std::println("{}", x);
    }
}
```
---

## 4 программа

---
```c++
#include <print>
#include <iostream>
#include <iomanip>

int main()
{
    int x
    while(true){
        std::cin >> x;
        std::println("{}", bool(std::cin));
        if(std::cin.eof()) break;
        std::println("{}", x);
    }
}
```
---

## 5 программа - **оптимальный вариант**

---
```c++
#include <print>
#include <iostream>
#include <iomanip>

int main()
{
    int x
    while(std::cin >> x){
        std::println("{}", x);
    }
}
```
---

# Манипуляторы 

## 1 программа - `счёт 16-ричных чисел`

---
```c++
#include <print>
#include <iostream>
#include <iomanip>

int main()
{
    int x
    std::cin >> std::hex; 
    while(std::cin >> x){
        std::println("{}", x);
    }
}
```
---

`std::hex` - **манипулятор**, который менят весь поток

## 2 программа 

---
```c++
#include <print>
#include <iostream>
#include <iomanip>

int main()
{
    char c;
    std::cin >> std::hex >> std::noskipws; 
    while(std::cin >> c){
        std::println("{}", x);
    }
}
```
---

`std::noskipws` - *отключает игнорирование пробелов*

# Посимвольный ввод

## 1 программа 

---
```c++
#include <print>
#include <iostream>
#include <iomanip>

int main()
{
    char c;
    while(std::cin.get(c)){
        std::println("!{}!", x);
    }
}
```
---

## 2 программа - *ускорение ввода*

---
```c++
#include <print>
#include <iostream>
#include <iomanip>

int main()
{
    std::ios_base::sync_with_stdio(false);
    std::cin.tie(nullptr);  //разрывает синхронизацию cin и cout
    char c;
    while(std::cin.get(c)){
        std::cout << c << "\n";
    }
}
```
---

`std::endl` = `fflush(stdout)`

# Построчный ввод

## 1 программа

---
```c++
#include <iostream>
#include <string>
#include <print>

int main()
{
    std::string s;
    while(std::getline(std::cin, s)){
        std::println("!{}!", s);
    }
}
```
---

## 2 программа

---
```c++
#include <iostream>
#include <string>
#include <print>

int main()
{
    std::string s;
    while(std::getline(std::cin, s)){
        std::istringstream in(s);
        int x
        while(in >> x){
            std::println("!!{}", x);
        }
        std::println("!{}!", s);
    }
}
```
---

## 3 программа

---
```c++
#include <iostream>
#include <string>
#include <print>

int main()
{
    std::string s;
    while(std::getline(std::cin, s)){
        std::string buf;
        std::ostringstream out(buf);
        std::istringstream in(s);
        int x
        while(in >> x){
            out << " " << x;
        }
        std::println("!{}!{}!", s, out.str());
    }
}
```
---

# `namespace`

## 1 программа

---
```c++
#include <print>

namespace std
{
    double yyy = 100;
}

int main()
{
    std::println("{}", std::yyy);
}
```
---

## 2 программа

---
```c++
#include <print>

namespace std
{
    double yyy = 100;
}

namespace //анонимное пространство имён
{
    double aaa = 200;
}

int main()
{
    std::println("{} {}", std::yyy, aaa);
}
```
---

### В чём отличия от глобальных переменных?
`aaa` не экспортируется наружу = `static`

## 3 программа

---
```c++
#include <print>

namespace std
{
    double yyy = 100;
}

namespace //анонимное пространство имён
{
    double aaa = 200;
}

namespace A
{
    int v1 = 400;
    namespace B
    {
        int v2 = 500;
    }
}

int main()
{
    namespace C = A::B;
    std::println("{} {} {} {}", std::yyy, aaa, A::v1, A::B::v2);
}
```
---